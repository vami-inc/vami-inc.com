<!DOCTYPE html>
<!-- saved from url=(0087)file:///C:/Users/amold/OneDrive%20-%20VAMI%20Inc/_VAMI%20INC/FOND/site%20web/index.html -->
<html lang="fr" style="--top1: 18.3%; --left1: 47.7%; --w1: 21.6%; --h1: 27.5%; --rotZ1: 0.4deg; --rotY1: -51.7deg; --rotX1: -4.4deg; --skX1: -6.1deg; --skY1: 0deg; --tlx1: 0%; --tly1: 0%; --trx1: 0%; --try1: 0%; --brx1: 0%; --bry1: 0%; --blx1: 0%; --bly1: 0%; --top2: 6.6%; --left2: 38.5%; --w2: 23.5%; --h2: 28.2%; --rotZ2: -3.2deg; --rotY2: -48.9deg; --rotX2: 1deg; --skX2: -5.5deg; --skY2: 0deg; --posx2: 19%; --top3: 3.5%; --left3: 32.2%; --w3: 19.8%; --h3: 23.8%; --rotZ3: -3.2deg; --rotY3: -45.1deg; --skX3: -5deg; --rotX3: 0deg; --skY3: 0deg; --tlx3: 3%; --tly3: 3%; --trx3: 3%; --try3: 3%; --brx3: 3%; --bry3: 3%; --blx3: 3%; --bly3: 3%; --email-top: 130px; --email-left: 1135px; --phone-top: 76px; --phone-left: 1133px; --book-top: 197px; --book-left: 1168px; --book-scale: 1.4500000000000004; --privacy-top: 365px; --privacy-left: 1137px; --terms-top: 418px; --terms-left: 1137px; --s: 1.5933333333333333; --phone-scale: 1.4500000000000004; --email-scale: 1.3500000000000003; --privacy-scale: 1.2000000000000002; --terms-scale: 1.2000000000000002; --posx1: 62%; --posy1: 23%; --posy2: 44%; --bookOffice-top: 266px; --bookOffice-left: 1138px; --bookVirtual-top: 213px; --bookVirtual-left: 1136px; --bookVirtual-scale: 1.3500000000000003; --bookOffice-scale: 1.3000000000000003; --sepOffice-top: 337px; --sepOffice-left: 1128px; --icon-call-top: 439px; --icon-call-left: 687px; --icon-mail-top: 482px; --icon-mail-left: 748px; --icon-meet-top: 518px; --icon-meet-left: 826px; --icon-mail-scale: 1.4000000000000001; --icon-meet-scale: 1.4500000000000002; --sepEmail-top: 192px; --sepEmail-left: 1133px; --icon-call-scale: 1.5500000000000003;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Accueil ‚Äì Comptabilit√©</title>
  <style>
    :root{
      /* Sc√®ne 16:9 */
      --base-w: 1600; --base-h: 900; --s: 1;

      /* D√©fauts (les vraies valeurs viennent de <html style=‚Ä¶>) */
      --persp1: 1050px; --persp2: 1000px; --persp3: 1000px;
      --posx1: 50%; --posy1: 50%;
      --posx2: 50%; --posy2: 50%;
      --posx3: 50%; --posy3: 50%;

      /* Liens / √©l√©ments √©ditables */
      --email-top: 20px;  --email-left: 20px;   --email-scale: 1;
      --phone-top: 20px;  --phone-left: 360px;  --phone-scale: 1;
      --book-top: 20px;   --book-left: 610px;   --book-scale: 1;
      --bookOffice-top: 20px;  --bookOffice-left: 775px;  --bookOffice-scale: 1;
      --bookVirtual-top: 20px; --bookVirtual-left: 1075px; --bookVirtual-scale: 1;
      --terms-top: 60px;  --terms-left: 20px;   --terms-scale: 1;
      --privacy-top: 90px;--privacy-left: 20px; --privacy-scale: 1;

      /* S√©parateurs √©l√©gants (d√©pla√ßables) */
      --sepEmail-top: 192px;  --sepEmail-left: 1130px;  --sepEmail-scale: 1;
      --sepOffice-top: 400px; --sepOffice-left: 1130px; --sepOffice-scale: 1;

      /* üîµ Ic√¥nes ‚Äúbureau‚Äù (√©ditables) */
      --icon-call-top: 640px;   --icon-call-left: 730px;   --icon-call-scale: 1.2;
      --icon-mail-top: 640px;   --icon-mail-left: 780px;   --icon-mail-scale: 1.2;
      --icon-meet-top: 640px;   --icon-meet-left: 830px;   --icon-meet-scale: 1.2;
    }

    /* Centre robuste + plein √©cran noir de fond */
    html, body{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#000;}
    body{display:block;}

    /* === Sc√®ne plein √©cran centr√©e et rogn√©e (plus de bandes noires) === */
    .stage-outer{
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: 1;
    }
    .stage{
      position: absolute;
      width: calc(var(--base-w)*1px);
      height: calc(var(--base-h)*1px);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(var(--s));
      transform-origin: center center;
      overflow: hidden;
    }

    /* Image de fond (URL absolue) */
    .background{position:absolute; inset:0; background:url("https://vami-inc.com/desk.jpg") center/cover no-repeat;}

    /* √âcrans */
    .screen{position:absolute; transform-origin: top left;}
    .inner{position:absolute; inset:0; overflow:hidden;}
    .inner img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; transform:scale(1.02)}
    .s1{ top:var(--top1); left:var(--left1); width:var(--w1); height:var(--h1);
         transform:perspective(var(--persp1)) rotateZ(var(--rotZ1)) rotateY(var(--rotY1)) rotateX(var(--rotX1)) skewX(var(--skX1)) skewY(var(--skY1)); z-index:2; }
    .s1 .inner{clip-path:polygon(calc(0%+var(--tlx1)) calc(0%+var(--tly1)), calc(100%-var(--trx1)) calc(0%+var(--try1)), calc(100%-var(--brx1)) calc(100%-var(--bry1)), calc(0%+var(--blx1)) calc(100%-var(--bly1)))}
    .s1 .inner img{object-position:var(--posx1) var(--posy1)}
    .s2{ top:var(--top2); left:var(--left2); width:var(--w2); height:var(--h2);
         transform:perspective(var(--persp2)) rotateZ(var(--rotZ2)) rotateY(var(--rotY2)) rotateX(var(--rotX2)) skewX(var(--skX2)) skewY(var(--skY2)); z-index:3; }
    .s2 .inner{clip-path:polygon(calc(0%+var(--tlx2)) calc(0%+var(--tly2)), calc(100%-var(--trx2)) calc(0%+var(--try2)), calc(100%-var(--brx2)) calc(100%-var(--bry2)), calc(0%+var(--blx2)) calc(100%-var(--bly2)))}
    .s2 .inner img{object-position:var(--posx2) var(--posy2)}
    .s3{ top:var(--top3); left:var(--left3); width:var(--w3); height:var(--h3);
         transform:perspective(var(--persp3)) rotateZ(var(--rotZ3)) rotateY(var(--rotY3)) rotateX(var(--rotX3)) skewX(var(--skX3)) skewY(var(--skY3)); z-index:4; }
    .s3 .inner{clip-path:polygon(calc(0%+var(--tlx3)) calc(0%+var(--tly3)), calc(100%-var(--trx3)) calc(0%+var(--try3)), calc(100%-var(--brx3)) calc(100%-var(--bry3)), calc(0%+var(--blx3)) calc(100%-var(--bly3)))}
    .s3 .inner img{object-position:var(--posx3) var(--posy3)}

    /* Panneau (inchang√©) */
    #panel{position:fixed;top:12px;left:12px;z-index:9999;background:#111c;color:#fff;padding:12px;border-radius:12px;font:12px/1.2 system-ui,sans-serif;backdrop-filter:blur(6px);width:270px; display:none;}
    #panel .row{display:flex;align-items:center;gap:8px;margin-bottom:6px}
    #panel label{width:92px;opacity:.9}
    #panel input, #panel select{width:120px;background:#222;border:1px solid #444;color:#fff;border-radius:6px;padding:4px 6px}
    .sep{margin:8px 0;border-top:1px solid #333}
    #panel .small{opacity:.7;font-size:11px}

    /* Liens & √©l√©ments √©ditables (texte) */
    .contact-item{position:absolute; transform-origin:top left; font:16px/1.5 system-ui,sans-serif; font-weight:600; color:#004080; text-decoration:none; user-select:none; z-index:10;}
    .contact-item:hover{text-decoration:underline}
    #emailLink{top:var(--email-top);left:var(--email-left);transform:scale(var(--email-scale))}
    #phoneLink{top:var(--phone-top);left:var(--phone-left);transform:scale(var(--phone-scale))}
    #bookOfficeLink{ top:var(--bookOffice-top); left:var(--bookOffice-left);transform:scale(var(--bookOffice-scale)); }
    #bookVirtualLink{ top:var(--bookVirtual-top); left:var(--bookVirtual-left);transform:scale(var(--bookVirtual-scale)); }
    #termsLink{top:var(--terms-top);left:var(--terms-left);transform:scale(var(--terms-scale))}
    #privacyLink{top:var(--privacy-top);left:var(--privacy-left);transform:scale(var(--privacy-scale))}
    .contact-item.edit{outline:2px dashed #2aa3ff;background:#ffffff80;border-radius:8px;padding:4px 6px;cursor:move}
    .contact-item.selected{outline:3px solid #1e90ff}

    /* S√©parateurs √©l√©gants */
    .separator{ position:absolute; display:block; width:420px; height:1.5px;
                background: linear-gradient(90deg,#cfd8ea,transparent 75%);
                border-radius: 1px; z-index:10; }
    #sepEmail{  top:var(--sepEmail-top);  left:var(--sepEmail-left);  transform:scale(var(--sepEmail-scale)); }
    #sepOffice{ top:var(--sepOffice-top); left:var(--sepOffice-left); transform:scale(var(--sepOffice-scale)); }
    .separator.edit{ outline:2px dashed #2aa3ff; background: linear-gradient(90deg,#bcd0ff,transparent 75%); }

    /* üîµ Ic√¥nes ‚Äúbureau‚Äù (gros symboles cliquables) */
    .desk-icon{
      position:absolute; z-index:12; user-select:none;
      font-size:34px; line-height:1; text-decoration:none;
      filter: drop-shadow(0 1px 2px rgba(0,0,0,.35));
      transition: transform .15s ease;
    }
    .desk-icon:hover{ transform:scale(1.15); }
    /* positions via variables */
    #iconCall { top:var(--icon-call-top); left:var(--icon-call-left); transform:scale(var(--icon-call-scale)); color:#d64040; }
    #iconMail { top:var(--icon-mail-top); left:var(--icon-mail-left); transform:scale(var(--icon-mail-scale)); color:#1e73d8; }
    #iconMeet { top:var(--icon-meet-top); left:var(--icon-meet-left); transform:scale(var(--icon-meet-scale)); color:#2a9958; }
    /* style d‚Äô√©dition visuel (reuse .edit) */
    .desk-icon.edit{ outline:2px dashed #2aa3ff; background:#ffffff90; border-radius:10px; padding:6px; }

    /* Bandeau d‚Äôaide (bas centr√©) */
    .contact-hint{ position:fixed; left:50%; bottom:16px; transform:translateX(-50%);
                   background:#0b2a; color:#023; font:12px/1.2 system-ui,sans-serif;
                   padding:6px 10px; border-radius:6px; display:none; z-index:10001 }
    .contact-hint.show{display:block}
  </style>
</head>
<body>

  <!-- Sc√®ne -->
  <div class="stage-outer">
    <div class="stage" id="stage">
      <div class="background"></div>

      <!-- √âcrans (tes sources actuelles) -->
      <div class="screen s1"><div class="inner"><img src="https://vami-inc.com/services.jpg" alt="Services"></div></div>
      <div class="screen s2"><div class="inner"><img src="https://vami-inc.com/commerce.jpg" alt="Commerce"></div></div>
      <div class="screen s3"><div class="inner"><img src="https://vami-inc.com/construction.jpg" alt="Troisi√®me"></div></div>

      <!-- Liens texte -->
      <a id="emailLink" class="contact-item" href="mailto:info@vami-inc.com">üìß info@vami-inc.com</a>
<a id="phoneLink" class="contact-item" href="tel:+14389011042" aria-label="T√©l√©phone">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align:middle; margin-right:6px;">
    <path d="M17 1H7a2 2 0 0 0-2 2v18a2 
             2 0 0 0 2 2h10a2 2 0 0 0 2-2V3a2 
             2 0 0 0-2-2zm-5 20a1 1 0 1 1 
             0-2 1 1 0 0 1 0 2zm4-3H8V4h8v14z"></path>
  </svg>
  +1 (438) 901-1042
</a>

      <!-- S√©parateur sous l‚Äôe-mail -->
      <span id="sepEmail" class="separator"></span>

      <a id="bookVirtualLink" class="contact-item" href="https://outlook.office.com/book/RencontreVirtuelleTeamsZoom@vami-inc.com/?ismsaljsauthenabled" target="_blank">üìÖ Rendez-vous virtuel</a>
      <a id="bookOfficeLink" class="contact-item" href="https://outlook.office.com/book/Rencontreaubureau@vami-inc.com/?ismsaljsauthenabled" target="_blank">üìÖ Rencontre au bureau</a>

      <!-- S√©parateur sous ‚ÄúRencontre au bureau‚Äù -->
      <span id="sepOffice" class="separator"></span>

      <!-- Liens l√©gaux -->
      <a id="termsLink" class="contact-item" href="https://vami-inc.com/terms.html">üìÑ Conditions d'utilisation SMS</a>
      <a id="privacyLink" class="contact-item" href="https://vami-inc.com/privacy.html">üîí Politique de confidentialit√© SMS</a>

      <!-- üîµ Ic√¥nes sur le bureau (√©ditables) -->

<a id="iconCall" class="desk-icon" href="tel:+14389011042" aria-label="Appeler" style="color:#0066cc;">
  <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor" style="vertical-align:middle;">
    <path d="M6.62 10.79a15.464 15.464 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.11-.21c1.2.48 2.53.73 3.91.73a1 1 0 0 1 1 1V20a1 
             1 0 0 1-1 1C10.07 21 3 13.93 3 5a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1 1c0 1.38.25 2.71.73 3.91a1 
             1 0 0 1-.21 1.11l-2.2 2.2z"></path>
  </svg>
</a>

      <a id="iconMail" class="desk-icon" href="mailto:info@vami-inc.com" aria-label="Envoyer un courriel">üìß</a>
      <a id="iconMeet" class="desk-icon" href="https://outlook.office.com/book/RencontreVirtuelleTeamsZoom@vami-inc.com/?ismsaljsauthenabled" target="_blank" rel="noopener" aria-label="Prendre un rendez-vous virtuel">üìÖ</a>
    </div>
  </div>

  <div id="contactHint" class="contact-hint">Mode √©dition (P) : cliquer/drag ‚Ä¢ fl√®ches (‚áß√ó10) ‚Ä¢ molette ou +/- pour la taille</div>

  <!-- Panneau d‚Äôajustement √âCRANS (inchang√©) -->
  <div id="panel" style="display: none;">
    <div class="row">
      <label>√âcran</label>
      <select id="target">
        <option value="1">#1 (services.jpg)</option>
        <option value="2">#2 (commerce.jpg)</option>
        <option value="3" selected="selected">#3 (construction.jpg)</option>
      </select>
    </div>

    <div class="row"><label>top (%)</label><input type="number" step="0.1" id="top" value="3.5"></div>
    <div class="row"><label>left (%)</label><input type="number" step="0.1" id="left" value="32.2"></div>
    <div class="row"><label>width (%)</label><input type="number" step="0.1" id="w" value="19.8"></div>
    <div class="row"><label>height (%)</label><input type="number" step="0.1" id="h" value="23.8"></div>
    <div class="row"><label>rotZ (deg)</label><input type="number" step="0.1" id="rz" value="-3.2"></div>
    <div class="row"><label>rotY (deg)</label><input type="number" step="0.1" id="ry" value="-45.1"></div>
    <div class="row"><label>rotX (deg)</label><input type="number" step="0.1" id="rx" value="0"></div>
    <div class="row"><label>skewX (deg)</label><input type="number" step="0.1" id="skx" value="-5"></div>
    <div class="row"><label>skewY (deg)</label><input type="number" step="0.1" id="sky" value="0"></div>

    <div class="sep"></div>
    <div class="row"><label>posX (%)</label><input type="number" step="1" id="posx" value="50"></div>
    <div class="row"><label>posY (%)</label><input type="number" step="1" id="posy" value="50"></div>

    <div class="sep"></div>
    <div class="row"><label>TL X (%)</label><input type="number" step="0.1" id="tlx" value="3"></div>
    <div class="row"><label>TL Y (%)</label><input type="number" step="0.1" id="tly" value="3"></div>
    <div class="row"><label>TR X (%)</label><input type="number" step="0.1" id="trx" value="3"></div>
    <div class="row"><label>TR Y (%)</label><input type="number" step="0.1" id="try" value="3"></div>
    <div class="row"><label>BR X (%)</label><input type="number" step="0.1" id="brx" value="3"></div>
    <div class="row"><label>BR Y (%)</label><input type="number" step="0.1" id="bry" value="3"></div>
    <div class="row"><label>BL X (%)</label><input type="number" step="0.1" id="blx" value="3"></div>
    <div class="row"><label>BL Y (%)</label><input type="number" step="0.1" id="bly" value="3"></div>

    <div class="row small">Astuce : <b>P</b> = afficher/masquer ce panneau ‚Ä¢ ‚Üë/‚Üì, Alt (0.1), Shift (10)</div>
  </div>

  <!-- Fit sc√®ne : cover -->
  <script>
    (function(){
      function fit(){
        const W=1600, H=900;
        const s=Math.max(window.innerWidth/W, window.innerHeight/H); // cover
        document.documentElement.style.setProperty('--s', s);
      }
      window.addEventListener('resize', fit, {passive:true});
      fit();
    })();
  </script>

  <!-- Panneau + √©dition liens/s√©parateurs/ic√¥nes -->
  <script>
    (function(){
      const root=document.documentElement;
      const MAP={
        1:{top:['--top1','%'],left:['--left1','%'],w:['--w1','%'],h:['--h1','%'],
           rz:['--rotZ1','deg'],ry:['--rotY1','deg'],rx:['--rotX1','deg'],
           skx:['--skX1','deg'],sky:['--skY1','deg'],
           posx:['--posx1','%'],posy:['--posy1','%'],
           tlx:['--tlx1','%'],tly:['--tly1','%'],trx:['--trx1','%'],try:['--try1','%'],
           brx:['--brx1','%'],bry:['--bry1','%'],blx:['--blx1','%'],bly:['--bly1','%']},
        2:{top:['--top2','%'],left:['--left2','%'],w:['--w2','%'],h:['--h2','%'],
           rz:['--rotZ2','deg'],ry:['--rotY2','deg'],rx:['--rotX2','deg'],
           skx:['--skX2','deg'],sky:['--skY2','deg'],
           posx:['--posx2','%'],posy:['--posy2','%'],
           tlx:['--tlx2','%'],tly:['--tly2','%'],trx:['--trx2','%'],try:['--try2','%'],
           brx:['--brx2','%'],bry:['--bry2','%'],blx:['--blx2','%'],bly:['--bly2','%']},
        3:{top:['--top3','%'],left:['--left3','%'],w:['--w3','%'],h:['--h3','%'],
           rz:['--rotZ3','deg'],ry:['--rotY3','deg'],rx:['--rotX3','deg'],
           skx:['--skX3','deg'],sky:['--skY3','deg'],
           posx:['--posx3','%'],posy:['--posy3','%'],
           tlx:['--tlx3','%'],tly:['--tly3','%'],trx:['--trx3','%'],try:['--try3','%'],
           brx:['--brx3','%'],bry:['--bry3','%'],blx:['--blx3','%'],bly:['--bly3','%']}
      };
      const ids=['target','top','left','w','h','rz','ry','rx','skx','sky','posx','posy','tlx','tly','trx','try','brx','bry','blx','bly'];
      const el=Object.fromEntries(ids.map(id=>[id,document.getElementById(id)]));

      function readVar(n,u){const v=getComputedStyle(root).getPropertyValue(n).trim();return parseFloat(v.replace(u,''));}
      function loadValues(){const m=MAP[el.target.value];for(const k in m){const [css,u]=m[k];el[k].value=readVar(css,u);}}
      function bind(){
        ids.forEach(k=>{ if(k==='target')return;
          el[k].addEventListener('input',()=>{const m=MAP[el.target.value][k];root.style.setProperty(m[0],`${el[k].value}${m[1]}`);});
        });
        el.target.addEventListener('change',loadValues);
      }
      bind();loadValues();

      // Touche P : panneau + mode √©dition
      document.addEventListener('keydown', e=>{
        if(e.key && e.key.toLowerCase()==='p'){
          const panel=document.getElementById('panel');
          panel.style.display=(panel.style.display==='none'?'block':'none');
          toggleEdit(panel.style.display==='block');
        }
      });

      /* √âl√©ments √©ditables (liens + s√©parateurs + ic√¥nes) */
      const VARS={
        email:{top:'--email-top',left:'--email-left',scale:'--email-scale',el:document.getElementById('emailLink')},
        phone:{top:'--phone-top',left:'--phone-left',scale:'--phone-scale',el:document.getElementById('phoneLink')},
        bookOffice:{top:'--bookOffice-top',left:'--bookOffice-left',scale:'--bookOffice-scale',el:document.getElementById('bookOfficeLink')},
        bookVirtual:{top:'--bookVirtual-top',left:'--bookVirtual-left',scale:'--bookVirtual-scale',el:document.getElementById('bookVirtualLink')},
        terms:{top:'--terms-top',left:'--terms-left',scale:'--terms-scale',el:document.getElementById('termsLink')},
        privacy:{top:'--privacy-top',left:'--privacy-left',scale:'--privacy-scale',el:document.getElementById('privacyLink')},
        sepEmail:{top:'--sepEmail-top',left:'--sepEmail-left',scale:'--sepEmail-scale',el:document.getElementById('sepEmail')},
        sepOffice:{top:'--sepOffice-top',left:'--sepOffice-left',scale:'--sepOffice-scale',el:document.getElementById('sepOffice')},

        /* üîµ Les trois ic√¥nes du bureau */
        iconCall:{ top:'--icon-call-top', left:'--icon-call-left', scale:'--icon-call-scale', el:document.getElementById('iconCall') },
        iconMail:{ top:'--icon-mail-top', left:'--icon-mail-left', scale:'--icon-mail-scale', el:document.getElementById('iconMail') },
        iconMeet:{ top:'--icon-meet-top', left:'--icon-meet-left', scale:'--icon-meet-scale', el:document.getElementById('iconMeet') }
      };
      const hint=document.getElementById('contactHint');
      let edit=false, activeKey=null, dragging=false, sx=0, sy=0, sTop=0, sLeft=0;
      function getVar(n){return getComputedStyle(root).getPropertyValue(n).trim();}
      function setVar(n,v){root.style.setProperty(n,v);}
      const px=n=>n+'px';
      const num=v=>parseFloat(String(v).replace('px',''))||0;

      function toggleEdit(on){
        edit=on; hint.classList.toggle('show',edit);
        for(const k in VARS){ const node=VARS[k].el; if(!node)continue; node.classList.toggle('edit',edit); node.classList.remove('selected');}
        activeKey=null;
      }
      function selectKey(key){
        activeKey=key;
        for(const k in VARS){ const node=VARS[k].el; if(!node)continue; node.classList.toggle('selected',k===key&&edit);}
      }

      for(const key in VARS){
        const it=VARS[key]; if(!it.el)continue;
        it.el.addEventListener('mousedown',e=>{ if(!edit)return;
          selectKey(key); dragging=true; sx=e.clientX; sy=e.clientY;
          sTop=num(getVar(it.top)); sLeft=num(getVar(it.left)); e.preventDefault();
        });
        it.el.addEventListener('wheel',e=>{ if(!edit||activeKey!==key)return;
          let s=parseFloat(getVar(it.scale))||1; s+=(e.deltaY<0?0.05:-0.05); s=Math.max(0.3,Math.min(4,s));
          setVar(it.scale,String(s)); e.preventDefault();
        },{passive:false});
        it.el.addEventListener('click',e=>{ if(edit){selectKey(key); e.preventDefault();}});
      }

      window.addEventListener('mousemove',e=>{
        if(!dragging||!activeKey)return;
        const it=VARS[activeKey];
        setVar(it.top,px(sTop+(e.clientY-sy)));
        setVar(it.left,px(sLeft+(e.clientX-sx)));
      });
      window.addEventListener('mouseup',()=>dragging=false);

      document.addEventListener('keydown',e=>{
        if(!edit||!activeKey)return;
        const step=e.shiftKey?10:1;
        const it=VARS[activeKey]; let top=num(getVar(it.top)), left=num(getVar(it.left)), sc=parseFloat(getVar(it.scale))||1;
        if(e.key==='ArrowUp'){ setVar(it.top,px(Math.max(0,top-step))); e.preventDefault(); }
        if(e.key==='ArrowDown'){ setVar(it.top,px(top+step)); e.preventDefault(); }
        if(e.key==='ArrowLeft'){ setVar(it.left,px(Math.max(0,left-step))); e.preventDefault(); }
        if(e.key==='ArrowRight'){ setVar(it.left,px(left+step)); e.preventDefault(); }
        if(e.key==='+'||e.key==='='){ setVar(it.scale,String(Math.min(4,sc+0.05))); }
        if(e.key==='-'||e.key==='_'){ setVar(it.scale,String(Math.max(0.3,sc-0.05))); }
      });
    })();
  </script>


</body></html>
